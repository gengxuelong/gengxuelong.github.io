import{g as C,p as l}from"./axios.bb0bbe53.js";import{d as b,r as f,a as L,E as i,h,i as d,o as k,c as E,j as e,k as n,l as c}from"./index.08aa9827.js";import"./axios.1cbd2f54.js";const F={style:{padding:"10px"}},$=b({__name:"AdminUserList",setup(v){const p=f([]),s=L({onLoadList:()=>{C("/api/personal/normal/userinfo").then(a=>{p.value=a})},onBanUser:a=>{l(`/admin/banUser/${a.username}`,{}).then(o=>{i.success("\u5C01\u7981\u6210\u529F"),s.onLoadList()})},onFreeUser:a=>{l(`/admin/freeUser/${a.username}`,{}).then(o=>{i.success("\u89E3\u5C01\u6210\u529F"),s.onLoadList()})},upGrade:a=>{l(`/admin/upGrade/${a.username}`,{}).then(o=>{i.success("\u5347\u7EA7\u6210\u529F"),s.onLoadList()})}});return h(()=>{s.onLoadList()}),(a,o)=>{const t=d("el-table-column"),u=d("el-button"),_=d("el-table");return k(),E("div",F,[e(_,{data:p.value,border:"",style:{width:"100%"}},{default:n(()=>[e(t,{prop:"username",label:"\u7528\u6237\u540D",width:"180"}),e(t,{prop:"user_nickname",label:"\u6635\u79F0",width:"180"}),e(t,{prop:"user_points",label:"\u79EF\u5206"}),e(t,{prop:"user_status",label:"\u79EF\u5206"}),e(t,{label:"\u64CD\u4F5C"},{default:n(r=>[e(u,{size:"small",onClick:m=>s.onBanUser(r.row)},{default:n(()=>[c("\u5C01\u7981")]),_:2},1032,["onClick"]),e(u,{size:"small",type:"danger",onClick:m=>s.onFreeUser(r.row)},{default:n(()=>[c("\u89E3\u5C01")]),_:2},1032,["onClick"]),e(u,{size:"small",type:"danger",onClick:m=>s.upGrade(r.row)},{default:n(()=>[c("\u5347\u7EA7")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])])}}});export{$ as default};
