import{p as m,g as F}from"./axios.bb0bbe53.js";import{E as p,_ as B,i as c,c as f,e as n,j as o,k as i,F as v,o as y,l as g,t as s}from"./index.08aa9827.js";import"./axios.1cbd2f54.js";const E={data(){return{list:[],total:0,listQuery:{page_indices:1,page_num:10},dialog:{visible:!1,detail:{}}}},methods:{onLoadList(){m("/api/manager/uncheckedlist",this.listQuery).then(l=>{console.log(l);const{records:t,all_num:u}=l;this.list=t,this.total=u})},onAuthPass(l){this.onAuth(l.id,"\u5BA1\u6838\u901A\u8FC7")},onAuthNoPass(l){this.onAuth(l.id,"\u5BA1\u6838\u672A\u901A\u8FC7")},onAuth(l,t){m(`/admin/changeAuditStatus/${l}/${t}`,{}).then(u=>{p.success("\u4FEE\u6539\u6210\u529F"),this.onLoadList()})},handleChange(){console.log("handleChange"),this.onLoadList()},handleCheck(l){const t=l.id;F(`/post/getPostDetailById/${t}`).then(u=>{console.log(u),this.dialog.detail=u,this.dialog.visible=!0}).catch(u=>{p.error(u.message)})},handleDialogClose(){this.dialog.visible=!1}},mounted(){this.onLoadList()}};const k={style:{padding:"10px"}},L=["src"];function w(l,t,u,x,e,d){const r=c("el-table-column"),_=c("el-button"),C=c("el-table"),A=c("el-input-number"),b=c("el-dialog");return y(),f(v,null,[n("div",k,[o(C,{data:e.list,border:"",style:{width:"100%"}},{default:i(()=>[o(r,{prop:"title",label:"\u6807\u9898",width:"180"}),o(r,{prop:"username",label:"\u4F5C\u8005",width:"180"}),o(r,{prop:"category",label:"\u7C7B\u578B"}),o(r,{label:"\u64CD\u4F5C"},{default:i(a=>[o(_,{size:"small",onClick:h=>d.handleCheck(a.row)},{default:i(()=>[g("\u67E5\u770B\u8BE6\u60C5")]),_:2},1032,["onClick"]),o(_,{size:"small",onClick:h=>d.onAuthPass(a.row)},{default:i(()=>[g("\u5BA1\u6838\u901A\u8FC7")]),_:2},1032,["onClick"]),o(_,{size:"small",type:"danger",onClick:h=>d.onAuthNoPass(a.row)},{default:i(()=>[g("\u5BA1\u6838\u4E0D\u901A\u8FC7")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),o(A,{modelValue:e.listQuery.page_indices,"onUpdate:modelValue":t[0]||(t[0]=a=>e.listQuery.page_indices=a),min:1,max:Math.floor(e.total/10+1),onChange:d.handleChange,class:"number_input"},null,8,["modelValue","max","onChange"])]),o(b,{title:"\u6587\u7AE0\u8BE6\u60C5",modelValue:e.dialog.visible,"onUpdate:modelValue":t[1]||(t[1]=a=>e.dialog.visible=a),width:"50%",onClose:d.handleDialogClose},{default:i(()=>[n("div",null,[n("p",null,"\u6807\u9898: "+s(e.dialog.detail.title),1),n("p",null,"\u7C7B\u578B: "+s(e.dialog.detail.category),1),n("p",null,"\u4F5C\u8005: "+s(e.dialog.detail.username),1),n("p",null,"\u5185\u5BB9: "+s(e.dialog.detail.content),1),n("p",null,"\u6E38\u620F\u540D\u79F0: "+s(e.dialog.detail.game_name),1),n("p",null,"\u6E38\u620F\u63CF\u8FF0: "+s(e.dialog.detail.game_description),1),n("img",{src:e.dialog.detail.image_url,alt:"\u56FE\u7247",width:"300",height:"200"},null,8,L)])]),_:1},8,["modelValue","onClose"])],64)}const N=B(E,[["render",w],["__scopeId","data-v-a379c4ee"]]);export{N as default};
