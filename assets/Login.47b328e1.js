import{p as B}from"./axios.bb0bbe53.js";import{d as w,u as x,r as C,a as m,U as g,E as b,f as V,i,o as k,c as S,e as o,l as f,j as l,k as d,A as D,B as y,_ as I}from"./index.08aa9827.js";import"./axios.1cbd2f54.js";const F=r=>(D("data-v-3a12625a"),r=r(),y(),r),N={class:"container"},R=F(()=>o("div",{class:"box1"},null,-1)),T={class:"box2"},U={class:"loginBlock"},L={class:"loginDescription"},E=F(()=>o("h2",null,"\u767B\u5F55",-1)),q={class:"loginForm"},A=w({__name:"Login",setup(r){const p=x(),c=C(),t=m({username:"",password:""}),n=m({dialogTitle:"\u767B\u5F55",rules:{username:[{required:!0,message:"\u8BF7\u8F93\u5165\u7528\u6237\u540D",trigger:"blur"}],password:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801",trigger:"blur"}]},onSaveSuccess:async s=>{!s||await s.validate((e,a)=>{e&&n.onLogin()})},onLogin:()=>{B("/login",t).then(s=>{const{token:e,userInfoVo:a}=s;g.setToken(e),g.setUserInfo(a),b.success("\u767B\u5F55\u6210\u529F"),p.push({path:"/"})}).catch(s=>{console.log(s)})},onNavToRegister:()=>{p.push({path:"/register"})}});return V(),(s,e)=>{const a=i("el-input"),_=i("el-form-item"),v=i("el-form"),h=i("el-button");return k(),S("div",N,[R,o("div",T,[o("div",U,[o("div",L,[E,o("div",null,[f("\u8FD8\u6CA1\u6709\u8D26\u53F7\uFF0C\u8BF7 "),o("a",{onClick:e[0]||(e[0]=(...u)=>n.onNavToRegister&&n.onNavToRegister(...u)),style:{height:"100px",width:"300px",border:"1px solid #ccc",cursor:"pointer"}}," \u6CE8\u518C ")])]),o("div",q,[l(v,{ref_key:"loginFormRef",ref:c,model:t,"label-position":"top",rules:n.rules,"label-width":"80px"},{default:d(()=>[l(_,{label:"\u8D26\u53F7",prop:"username"},{default:d(()=>[l(a,{modelValue:t.username,"onUpdate:modelValue":e[1]||(e[1]=u=>t.username=u),placeholder:"\u8BF7\u8F93\u5165\u7528\u6237\u540D"},null,8,["modelValue"])]),_:1}),l(_,{label:"\u5BC6\u7801",prop:"password"},{default:d(()=>[l(a,{type:"password",modelValue:t.password,"onUpdate:modelValue":e[2]||(e[2]=u=>t.password=u),placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"]),o("div",null,[l(h,{color:"#2D74FF",style:{width:"100%"},onClick:e[3]||(e[3]=u=>n.onSaveSuccess(c.value))},{default:d(()=>[f(" \u767B\u5F55 ")]),_:1})])])])])])}}});const z=I(A,[["__scopeId","data-v-3a12625a"]]);export{z as default};
