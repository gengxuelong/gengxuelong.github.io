var j=Object.defineProperty;var H=(l,s,n)=>s in l?j(l,s,{enumerable:!0,configurable:!0,writable:!0,value:n}):l[s]=n;var C=(l,s,n)=>(H(l,typeof s!="symbol"?s+"":s,n),n);import{I as M,G as T,J,K,L as R,a as G,_ as I,i as L,o as f,c as k,F as W,b as q,D as O,k as y,e as t,t as m,d as Q,p as P,r as g,h as U,j as p,M as X,l as h,v as w,x as z}from"./index.5263889d.js";import{G as B}from"./GxlApiService.775ae55c.js";import"./axios.1cbd2f54.js";const Y={name:"SmallCard",components:{StarFilled:M,ElIcon:T,ArrowDown:J,Headset:K,Star:R},props:["cardData"],setup(){return{start_color:G({data:"red"})}}};const Z={class:"card-grid"},ee={class:"card-content"},ae=["src"],te={class:"title"},se={class:"gameName"},oe={class:"userInfo"},ne=["src"],le={style:{float:"left"}},ie={style:{"font-size":"15px","font-weight":"normal"}},re={style:{"font-size":"6px","font-weight":"lighter"}};function ce(l,s,n,D,F,_){const i=L("el-card");return f(),k("div",Z,[(f(!0),k(W,null,q(n.cardData.data,(o,r)=>(f(),O(i,{key:r,class:"card-item"},{default:y(()=>[t("div",ee,[t("img",{src:o.image_url,class:"card-image",alt:"Card Image",style:{width:"116%",height:"40%","border-radius":"5px","margin-left":"-20px","margin-top":"-20px"}},null,8,ae),t("div",te,m(o.title),1),t("div",se,m(o.game_name),1),t("div",oe,[t("img",{src:o.create_username_image_url,alt:"user_image",style:{float:"left",width:"30px",height:"30px","border-radius":"15px"}},null,8,ne),t("div",le,[t("div",ie,m(o.username),1),t("div",re,m(o.build_time),1)])])])]),_:2},1024))),128))])}const de=I(Y,[["render",ce],["__scopeId","data-v-71740a41"]]),_e={class:"container"},ue={class:"container1",style:{height:"100px",width:"100%"}},ge={class:"container2",style:{display:"block",padding:"0 10px"}},pe={class:"bigtitle"},me={style:{display:"flex"},class:"pagination-container"},ve=Q({__name:"GameCategoryPage",setup(l){function s(e){v.value=e,x(c),r.value=c.page_num,o.value=c.page_indices}class n{constructor(a,d){C(this,"page_indices");C(this,"page_num");this.page_indices=a,this.page_num=d}}const D=P().params.categoryName+"\u6E38\u620F",F=P().params.categoryName,_=G({data:[{}]}),i=g(0),o=g(1),r=g(8),c=new n(1,8),v=g(1),S=g(""),$=g(""),N=e=>{r.value=e,E()},A=e=>{o.value=e,E()};function E(){const e={page_indices:o.value,page_num:r.value};v.value<4?x(e):b(e)}const V=e=>{console.log("getDataFromChild"),S.value=e.key,$.value=e.categ,v.value=4,b(c),r.value=c.page_num,o.value=c.page_indices},x=e=>{B.post("/api/home/category/"+v.value.toString()+"/"+F,{page_indices:e.page_indices,page_num:e.page_num}).then(a=>{if(console.log(a),a.data!=null){const{records:d,all_num:u}=a.data;_.data=d,i.value=u}else _.data=[],i.value=0}).catch(a=>{console.log(a)})},b=e=>{B.postWithConfig("/api/search",e,{params:{key_word:S.value,category:$.value,sort:0}}).then(a=>{if(a.data!=null){const{records:d,all_num:u}=a.data;_.data=d,i.value=u}else _.data=[],i.value=0})};return U(()=>{x(c)}),(e,a)=>{const d=L("el-pagination");return f(),k("div",_e,[t("div",ue,[p(X,{onCustomEvent:V})]),t("div",ge,[t("div",pe,[h(m(D)+" "),p(w(z),{style:{"font-size":"small",width:"60px","margin-left":"50px"},size:"default",type:"primary",onClick:a[0]||(a[0]=u=>s(1))},{default:y(()=>[h(" \u5168\u90E8 ")]),_:1}),p(w(z),{style:{"font-size":"small",width:"60px"},size:"default",type:"primary",onClick:a[1]||(a[1]=u=>s(3))},{default:y(()=>[h("\u70ED\u5EA6\u6392\u5E8F")]),_:1}),p(w(z),{style:{"font-size":"small",width:"60px"},size:"default",type:"primary",onClick:a[2]||(a[2]=u=>s(2))},{default:y(()=>[h("\u65F6\u95F4\u6392\u5E8F")]),_:1})]),p(de,{cardData:_},null,8,["cardData"])]),t("div",me,[p(d,{class:"pagination",background:!0,"current-page":o.value,"page-sizes":[2,4,8,12,16,20],"page-size":r.value,total:i.value,onSizeChange:N,onCurrentChange:A,layout:"total, sizes, prev, pager, next, jumper"},null,8,["current-page","page-size","total"])])])}}});const Ce=I(ve,[["__scopeId","data-v-7a826996"]]);export{Ce as default};
